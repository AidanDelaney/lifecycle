#!/bin/bash

set -eu

i=$(cat -)
let r=$(<add)+${i:-0}
echo "$r" | tee >(cat >&2)
[[ -f error ]] && exit 1
(( $r > $(<last) )) && exit 100 || exit 0